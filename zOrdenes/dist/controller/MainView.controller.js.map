{"version":3,"file":"MainView.controller.js","names":["sap","ui","define","Controller","Filter","FilterOperator","MessageBox","extend","onInit","this","oTable","byId","oFileUploader","oButtonDownload","oColumn","oCountsModel","model","json","JSONModel","all","opened","PorFacturar","Facturado","getView","setModel","_filters","date","search","onAfterRendering","contadorgeneral","onPress","oEvent","oItem","getSource","oContext","getBindingContext","sNoPedido","getProperty","getOwnerComponent","getRouter","navTo","orderId","onQuickFilter","sKey","getParameter","_showAllItems","_showOpenItems","_showToInvoiceItems","_showInvoicedItems","console","log","oBinding","getBinding","oFilter","EQ","_aCurrentFilters","filter","setMode","setVisible","applySearchFilter","sQuery","aColumnas","trim","toLowerCase","aSearchFilters","map","sCol","path","operator","Contains","value1","caseSensitive","filters","and","applyAllFilters","applyDateFilter","oDateRange","oFirstDate","getDateValue","oSecondDate","getSecondDateValue","oDateFormat","core","format","DateFormat","getDateInstance","pattern","sFirst","sSecond","BT","aCombinedFilters","onSearch","getValue","onSearchDate","oModel","getModel","aAllItems","setData","length","pedido","Pendiente","currencyFormat","currency","oFormat","NumberFormat","getCurrencyInstance","decimals","onSelectionChange","setEnabled","clear","oSelectedParam","oBindingContext","oSelectedItem","getObject","RFCR","RFCE","Posiciones","PrimeraPosicion","Moneda","MetodoPago","oSubtotal","Subtotal","toFixed","oTotalImTr","TotalImTr","oTotal","Total","onFileUploaderChange","FileUploader","lFile","oFileUpload","files","aFile","Array","from","error","oFileXML","oFilePDF","forEach","oFile","type","oReader","FileReader","onload","e","sXMLContent","target","result","_verifyFile","bind","readAsText","oParser","DOMParser","oXMLDoc","parseFromString","RFCRXML","getElementsByTagName","getAttribute","RFCEXML","FolioFXML","MonedaXML","MetodoPagoXML","SubtotalXML","oImpuestos","aImpuestos","find","Impuestos","hasAttribute","TotalImTrXML","TotalXML","aErrorMessages","push","sFullErrorMessage","join","callSATService","onClean","that","sPath","jQuery","getModulePath","sUrl","sSoapRequest","$","ajax","url","dataType","contentType","data","headers","SOAPAction","success","response","oXmlDoc","window","parser","ActiveXObject","async","loadXML","estado","textContent","codigoEstatus","esCancelable","estatusCancelacion","m","information","removeSelections","onClearDateRange","setDateValue","setSecondDateValue"],"sources":["MainView-dbg.controller.js"],"mappings":"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","ignoreList":[]}